<!DOCTYPE html>
<html lang=en>
	<title>HALT</title>

	<style>
		body{
			background:#fbfbfb;
			color:#333;
			width:100%;
			margin:0;
			padding:0;
		}
		textarea{
			border:0;
			background:#fbfbfb;
			color:#333;
			font-family:hack;
			font-size:1rem;
			height:98%;
			line-height:1.4;
			margin:2%;
			outline:0;
			padding:0;
			width:95%;
			height:92vh;
		}
	</style>

	<script>
		function updateTitle(){
			let title = document.getElementById("T").value.split("\n")[0].split('#')[1];
			if (title) {
				document.title = title;
			} else {
				document.title = "Note";
			}
		}
		function l(){
			document.getElementById("T").value = decodeURIComponent(window.location.hash.substring(1));
			if (document.getElementById("T").value.length == 0) {
				document.getElementById("T").value = "#Note\n";
			}
			updateTitle();
		}
		function s(){
			window.history.pushState("","","#"+escape(document.getElementById("T").value))
			updateTitle();
		}
	</script>

	<body onLoad="l();">
		<textarea contenteditable id=T spellcheck=false placeholder=Loading... autofocus onKeyUp="s();"></textarea>
	</body>
</html>
